{"version":4,"terraform_version":"1.10.6","serial":6,"lineage":"90be9eb9-fcef-cbfb-dd35-3598f43da768","outputs":{},"resources":[{"mode":"managed","type":"docker_container","name":"manager","provider":"provider[\"registry.opentofu.org/kreuzwerker/docker\"]","instances":[{"schema_version":2,"attributes":{"attach":false,"bridge":"","capabilities":[],"cgroup_parent":null,"cgroupns_mode":null,"command":["bash","-c","chown -R root:root /root/.ssh/private_key \u0026\u0026  chmod 600 /root/.ssh/private_key \u0026\u0026 eval $(ssh-agent) \u0026\u0026 ssh-add /root/.ssh/private_key \u0026\u0026 ssh-add -l \u0026\u0026 sleep infinity"],"container_logs":null,"container_read_refresh_timeout_milliseconds":15000,"cpu_period":null,"cpu_quota":null,"cpu_set":"","cpu_shares":0,"cpus":null,"destroy_grace_seconds":null,"devices":[],"dns":null,"dns_opts":null,"dns_search":null,"domainname":"","entrypoint":[],"env":[],"exit_code":null,"gpus":null,"group_add":null,"healthcheck":null,"host":[],"hostname":"77e540325481","id":"77e54032548162fb3c0a32c61ebd0de2f20c157f3cb1d3a15020fc564408efe8","image":"sha256:363742a92f1b8d0d004bbe15770677b6a82b5b9d361a1d9a1348e07346c8be64","init":false,"ipc_mode":"private","labels":[],"log_driver":"json-file","log_opts":null,"logs":false,"max_retry_count":0,"memory":0,"memory_swap":0,"mounts":[],"must_run":true,"name":"manager_node","network_data":[{"gateway":"172.19.0.1","global_ipv6_address":"","global_ipv6_prefix_length":0,"ip_address":"172.19.0.5","ip_prefix_length":16,"ipv6_gateway":"","mac_address":"da:15:95:c6:aa:2d","network_name":"lab-network"}],"network_mode":"bridge","networks_advanced":[{"aliases":[],"ipv4_address":"","ipv6_address":"","name":"8fc9a33084479cd6e14dc63536431a8a37adc4fb09409e8479b32fc8c09325fb"}],"pid_mode":"","ports":[],"privileged":false,"publish_all_ports":false,"read_only":false,"remove_volumes":true,"restart":"no","rm":false,"runtime":"runc","security_opts":[],"shm_size":64,"start":true,"stdin_open":false,"stop_signal":"","stop_timeout":0,"storage_opts":null,"sysctls":null,"tmpfs":null,"tty":false,"ulimit":[],"upload":[],"user":"","userns_mode":"","volumes":[{"container_path":"/etc/ansible/hosts","from_container":"","host_path":"C:/Users/DELL LAPTOP/OneDrive/Desktop/OneDrive/Desktop/Basic Ecommerce/inventory.ini","read_only":null,"volume_name":""},{"container_path":"/root/.ssh/config","from_container":"","host_path":"C:/Users/DELL LAPTOP/OneDrive/Desktop/OneDrive/Desktop/Basic Ecommerce/ssh_config","read_only":null,"volume_name":""},{"container_path":"/root/.ssh/private_key","from_container":"","host_path":"C:/Users/DELL LAPTOP/OneDrive/Desktop/OneDrive/Desktop/Basic Ecommerce/private_key","read_only":null,"volume_name":""}],"wait":false,"wait_timeout":60,"working_dir":"/"},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==","dependencies":["docker_image.ansible","docker_network.lab"]}]},{"mode":"managed","type":"docker_container","name":"worker","provider":"provider[\"registry.opentofu.org/kreuzwerker/docker\"]","instances":[{"index_key":0,"schema_version":2,"attributes":{"attach":false,"bridge":"","capabilities":[],"cgroup_parent":null,"cgroupns_mode":null,"command":["bash","-c","apt-get update \u0026\u0026 apt-get install -y openssh-server python3 \u0026\u0026 sed -i 's/#PermitRootLogin prohibit-password/PermitRootLogin yes/' /etc/ssh/sshd_config \u0026\u0026 sed -i 's/#PasswordAuthentication yes/PasswordAuthentication no/' /etc/ssh/sshd_config \u0026\u0026 sed -i 's/#IgnoreRhosts yes/IgnoreRhosts yes/' /etc/ssh/sshd_config \u0026\u0026 sed -i 's/#PubkeyAuthentication yes/PubkeyAuthentication yes/' /etc/ssh/sshd_config \u0026\u0026 echo 'AuthorizedKeysFile     /root/.ssh/authorized_keys' \u003e\u003e /etc/ssh/sshd_config \u0026\u0026 chown -R root:root /root/.ssh \u0026\u0026 mkdir -p /var/run/sshd \u0026\u0026 /usr/sbin/sshd -D -E /sshd.log"],"container_logs":null,"container_read_refresh_timeout_milliseconds":15000,"cpu_period":null,"cpu_quota":null,"cpu_set":"","cpu_shares":0,"cpus":null,"destroy_grace_seconds":null,"devices":[],"dns":null,"dns_opts":null,"dns_search":null,"domainname":"","entrypoint":[],"env":[],"exit_code":null,"gpus":null,"group_add":null,"healthcheck":null,"host":[],"hostname":"worker_node_0","id":"b5883ffe073b7fb000972a78a4e56d9121eaba4322c3f9d1388279705bb0bffc","image":"sha256:fd8f5a1df07b5195613e4b9a0b6a947d3772a151b81975db27d47f093f60c6e6","init":false,"ipc_mode":"private","labels":[],"log_driver":"json-file","log_opts":null,"logs":false,"max_retry_count":0,"memory":0,"memory_swap":0,"mounts":[],"must_run":true,"name":"worker_node_0","network_data":[{"gateway":"172.19.0.1","global_ipv6_address":"","global_ipv6_prefix_length":0,"ip_address":"172.19.0.2","ip_prefix_length":16,"ipv6_gateway":"","mac_address":"ce:90:10:cb:40:95","network_name":"lab-network"}],"network_mode":"bridge","networks_advanced":[{"aliases":[],"ipv4_address":"","ipv6_address":"","name":"8fc9a33084479cd6e14dc63536431a8a37adc4fb09409e8479b32fc8c09325fb"}],"pid_mode":"","ports":[{"external":2222,"internal":22,"ip":"0.0.0.0","protocol":"tcp"}],"privileged":false,"publish_all_ports":false,"read_only":false,"remove_volumes":true,"restart":"no","rm":false,"runtime":"runc","security_opts":[],"shm_size":64,"start":true,"stdin_open":false,"stop_signal":"","stop_timeout":0,"storage_opts":null,"sysctls":null,"tmpfs":null,"tty":false,"ulimit":[],"upload":[],"user":"","userns_mode":"","volumes":[{"container_path":"/root/.ssh/authorized_keys","from_container":"","host_path":"C:/Users/DELL LAPTOP/OneDrive/Desktop/OneDrive/Desktop/Basic Ecommerce/authorized_keys","read_only":null,"volume_name":""}],"wait":false,"wait_timeout":60,"working_dir":""},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==","dependencies":["docker_image.debian","docker_network.lab"]},{"index_key":1,"schema_version":2,"attributes":{"attach":false,"bridge":"","capabilities":[],"cgroup_parent":null,"cgroupns_mode":null,"command":["bash","-c","apt-get update \u0026\u0026 apt-get install -y openssh-server python3 \u0026\u0026 sed -i 's/#PermitRootLogin prohibit-password/PermitRootLogin yes/' /etc/ssh/sshd_config \u0026\u0026 sed -i 's/#PasswordAuthentication yes/PasswordAuthentication no/' /etc/ssh/sshd_config \u0026\u0026 sed -i 's/#IgnoreRhosts yes/IgnoreRhosts yes/' /etc/ssh/sshd_config \u0026\u0026 sed -i 's/#PubkeyAuthentication yes/PubkeyAuthentication yes/' /etc/ssh/sshd_config \u0026\u0026 echo 'AuthorizedKeysFile     /root/.ssh/authorized_keys' \u003e\u003e /etc/ssh/sshd_config \u0026\u0026 chown -R root:root /root/.ssh \u0026\u0026 mkdir -p /var/run/sshd \u0026\u0026 /usr/sbin/sshd -D -E /sshd.log"],"container_logs":null,"container_read_refresh_timeout_milliseconds":15000,"cpu_period":null,"cpu_quota":null,"cpu_set":"","cpu_shares":0,"cpus":null,"destroy_grace_seconds":null,"devices":[],"dns":null,"dns_opts":null,"dns_search":null,"domainname":"","entrypoint":[],"env":[],"exit_code":null,"gpus":null,"group_add":null,"healthcheck":null,"host":[],"hostname":"worker_node_1","id":"e61103ea9b513cc8036300ec0b61a95a6a6210802c6165c404a270b20bdf661c","image":"sha256:fd8f5a1df07b5195613e4b9a0b6a947d3772a151b81975db27d47f093f60c6e6","init":false,"ipc_mode":"private","labels":[],"log_driver":"json-file","log_opts":null,"logs":false,"max_retry_count":0,"memory":0,"memory_swap":0,"mounts":[],"must_run":true,"name":"worker_node_1","network_data":[{"gateway":"172.19.0.1","global_ipv6_address":"","global_ipv6_prefix_length":0,"ip_address":"172.19.0.4","ip_prefix_length":16,"ipv6_gateway":"","mac_address":"4e:94:20:e0:1b:70","network_name":"lab-network"}],"network_mode":"bridge","networks_advanced":[{"aliases":[],"ipv4_address":"","ipv6_address":"","name":"8fc9a33084479cd6e14dc63536431a8a37adc4fb09409e8479b32fc8c09325fb"}],"pid_mode":"","ports":[{"external":2223,"internal":22,"ip":"0.0.0.0","protocol":"tcp"}],"privileged":false,"publish_all_ports":false,"read_only":false,"remove_volumes":true,"restart":"no","rm":false,"runtime":"runc","security_opts":[],"shm_size":64,"start":true,"stdin_open":false,"stop_signal":"","stop_timeout":0,"storage_opts":null,"sysctls":null,"tmpfs":null,"tty":false,"ulimit":[],"upload":[],"user":"","userns_mode":"","volumes":[{"container_path":"/root/.ssh/authorized_keys","from_container":"","host_path":"C:/Users/DELL LAPTOP/OneDrive/Desktop/OneDrive/Desktop/Basic Ecommerce/authorized_keys","read_only":null,"volume_name":""}],"wait":false,"wait_timeout":60,"working_dir":""},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==","dependencies":["docker_image.debian","docker_network.lab"]},{"index_key":2,"schema_version":2,"attributes":{"attach":false,"bridge":"","capabilities":[],"cgroup_parent":null,"cgroupns_mode":null,"command":["bash","-c","apt-get update \u0026\u0026 apt-get install -y openssh-server python3 \u0026\u0026 sed -i 's/#PermitRootLogin prohibit-password/PermitRootLogin yes/' /etc/ssh/sshd_config \u0026\u0026 sed -i 's/#PasswordAuthentication yes/PasswordAuthentication no/' /etc/ssh/sshd_config \u0026\u0026 sed -i 's/#IgnoreRhosts yes/IgnoreRhosts yes/' /etc/ssh/sshd_config \u0026\u0026 sed -i 's/#PubkeyAuthentication yes/PubkeyAuthentication yes/' /etc/ssh/sshd_config \u0026\u0026 echo 'AuthorizedKeysFile     /root/.ssh/authorized_keys' \u003e\u003e /etc/ssh/sshd_config \u0026\u0026 chown -R root:root /root/.ssh \u0026\u0026 mkdir -p /var/run/sshd \u0026\u0026 /usr/sbin/sshd -D -E /sshd.log"],"container_logs":null,"container_read_refresh_timeout_milliseconds":15000,"cpu_period":null,"cpu_quota":null,"cpu_set":"","cpu_shares":0,"cpus":null,"destroy_grace_seconds":null,"devices":[],"dns":null,"dns_opts":null,"dns_search":null,"domainname":"","entrypoint":[],"env":[],"exit_code":null,"gpus":null,"group_add":null,"healthcheck":null,"host":[],"hostname":"worker_node_2","id":"bcdaab83a4ade7646fa31b07d8ea488df911bc5fea0bd259fc936bf6814f9a74","image":"sha256:fd8f5a1df07b5195613e4b9a0b6a947d3772a151b81975db27d47f093f60c6e6","init":false,"ipc_mode":"private","labels":[],"log_driver":"json-file","log_opts":null,"logs":false,"max_retry_count":0,"memory":0,"memory_swap":0,"mounts":[],"must_run":true,"name":"worker_node_2","network_data":[{"gateway":"172.19.0.1","global_ipv6_address":"","global_ipv6_prefix_length":0,"ip_address":"172.19.0.3","ip_prefix_length":16,"ipv6_gateway":"","mac_address":"ea:c8:d3:f3:69:d5","network_name":"lab-network"}],"network_mode":"bridge","networks_advanced":[{"aliases":[],"ipv4_address":"","ipv6_address":"","name":"8fc9a33084479cd6e14dc63536431a8a37adc4fb09409e8479b32fc8c09325fb"}],"pid_mode":"","ports":[{"external":2224,"internal":22,"ip":"0.0.0.0","protocol":"tcp"}],"privileged":false,"publish_all_ports":false,"read_only":false,"remove_volumes":true,"restart":"no","rm":false,"runtime":"runc","security_opts":[],"shm_size":64,"start":true,"stdin_open":false,"stop_signal":"","stop_timeout":0,"storage_opts":null,"sysctls":null,"tmpfs":null,"tty":false,"ulimit":[],"upload":[],"user":"","userns_mode":"","volumes":[{"container_path":"/root/.ssh/authorized_keys","from_container":"","host_path":"C:/Users/DELL LAPTOP/OneDrive/Desktop/OneDrive/Desktop/Basic Ecommerce/authorized_keys","read_only":null,"volume_name":""}],"wait":false,"wait_timeout":60,"working_dir":""},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==","dependencies":["docker_image.debian","docker_network.lab"]}]},{"mode":"managed","type":"docker_image","name":"ansible","provider":"provider[\"registry.opentofu.org/kreuzwerker/docker\"]","instances":[{"schema_version":0,"attributes":{"build":[],"force_remove":null,"id":"sha256:363742a92f1b8d0d004bbe15770677b6a82b5b9d361a1d9a1348e07346c8be64alpine/ansible:latest","image_id":"sha256:363742a92f1b8d0d004bbe15770677b6a82b5b9d361a1d9a1348e07346c8be64","keep_locally":null,"name":"alpine/ansible:latest","platform":null,"pull_triggers":null,"repo_digest":"alpine/ansible@sha256:363742a92f1b8d0d004bbe15770677b6a82b5b9d361a1d9a1348e07346c8be64","timeouts":null,"triggers":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"}]},{"mode":"managed","type":"docker_image","name":"debian","provider":"provider[\"registry.opentofu.org/kreuzwerker/docker\"]","instances":[{"schema_version":0,"attributes":{"build":[],"force_remove":null,"id":"sha256:fd8f5a1df07b5195613e4b9a0b6a947d3772a151b81975db27d47f093f60c6e6debian:latest","image_id":"sha256:fd8f5a1df07b5195613e4b9a0b6a947d3772a151b81975db27d47f093f60c6e6","keep_locally":null,"name":"debian:latest","platform":null,"pull_triggers":null,"repo_digest":"debian@sha256:fd8f5a1df07b5195613e4b9a0b6a947d3772a151b81975db27d47f093f60c6e6","timeouts":null,"triggers":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"}]},{"mode":"managed","type":"docker_network","name":"lab","provider":"provider[\"registry.opentofu.org/kreuzwerker/docker\"]","instances":[{"schema_version":1,"attributes":{"attachable":false,"check_duplicate":null,"driver":"bridge","id":"8fc9a33084479cd6e14dc63536431a8a37adc4fb09409e8479b32fc8c09325fb","ingress":false,"internal":false,"ipam_config":[{"aux_address":{},"gateway":"172.19.0.1","ip_range":"","subnet":"172.19.0.0/16"}],"ipam_driver":"default","ipam_options":null,"ipv6":false,"labels":[],"name":"lab-network","options":{"com.docker.network.enable_ipv4":"true","com.docker.network.enable_ipv6":"false"},"scope":"local"},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="}]},{"mode":"managed","type":"local_file","name":"ansible_inventory","provider":"provider[\"registry.opentofu.org/hashicorp/local\"]","instances":[{"schema_version":0,"attributes":{"content":"[workers]\r\nworker_node_0 ansible_host=localhost ansible_port=2222 ansible_user=root\nworker_node_1 ansible_host=localhost ansible_port=2223 ansible_user=root\nworker_node_2 ansible_host=localhost ansible_port=2224 ansible_user=root\r\n","content_base64":null,"content_base64sha256":"5Dg610nRQeh0p/0r/MK88/Bh77EyppgQ2THWPcTUalo=","content_base64sha512":"1sO0H/i+neDXmSeEeyOP3+zxi9sCuAgpA0U8R2cf48+nSdFnrz2x2PcnCNGeIlDBfaoJf1FWRxLVdNMzhxYPwQ==","content_md5":"7a86ecc71e54b768821e3a1eee6eb6b2","content_sha1":"e2089f7007b153f0b23a8f5247cba2a06d12227b","content_sha256":"e4383ad749d141e874a7fd2bfcc2bcf3f061efb132a69810d931d63dc4d46a5a","content_sha512":"d6c3b41ff8be9de0d79927847b238fdfecf18bdb02b8082903453c47671fe3cfa749d167af3db1d8f72708d19e2250c17daa097f51564712d574d33387160fc1","directory_permission":"0777","file_permission":"0777","filename":"./hosts.ini","id":"e2089f7007b153f0b23a8f5247cba2a06d12227b","sensitive_content":null,"source":null},"sensitive_attributes":[[{"type":"get_attr","value":"sensitive_content"}]],"dependencies":["docker_container.worker","docker_image.debian","docker_network.lab"]}]},{"mode":"managed","type":"local_file","name":"manager_ansible_inventory","provider":"provider[\"registry.opentofu.org/hashicorp/local\"]","instances":[{"schema_version":0,"attributes":{"content":"[workers]\r\nworker_node_0 ansible_host=worker_node_0 ansible_port=22 ansible_user=root\nworker_node_1 ansible_host=worker_node_1 ansible_port=22 ansible_user=root\nworker_node_2 ansible_host=worker_node_2 ansible_port=22 ansible_user=root\r\n","content_base64":null,"content_base64sha256":"5GO/cdDLYNzicvYvgi9IfOjbQ4zPbXV2SZ5quk767AU=","content_base64sha512":"eAQqqC8vmcamGZ8vP0/g5279DBSZQTUI3Wx2oiAQBw3NTEeav90AgFeYf/lsKtrZPhWo6bAZB1fI3xB9wvyKmg==","content_md5":"5512bc53a27d3ba7cbf68f32a0fe51fa","content_sha1":"4ec5508cfd57d0ac92fbd07e2e69737dd4822cb5","content_sha256":"e463bf71d0cb60dce272f62f822f487ce8db438ccf6d7576499e6aba4efaec05","content_sha512":"78042aa82f2f99c6a6199f2f3f4fe0e76efd0c1499413508dd6c76a22010070dcd4c479abfdd008057987ff96c2adad93e15a8e9b0190757c8df107dc2fc8a9a","directory_permission":"0777","file_permission":"0777","filename":"./inventory.ini","id":"4ec5508cfd57d0ac92fbd07e2e69737dd4822cb5","sensitive_content":null,"source":null},"sensitive_attributes":[[{"type":"get_attr","value":"sensitive_content"}]],"dependencies":["docker_container.worker","docker_image.debian","docker_network.lab"]}]},{"mode":"managed","type":"local_file","name":"ssh_config","provider":"provider[\"registry.opentofu.org/hashicorp/local\"]","instances":[{"schema_version":0,"attributes":{"content":"Host *\r\n  StrictHostKeyChecking no\r\n  IdentityFile /root/.ssh/private_key\r\n  UserKnownHostsFile /dev/null\r\n","content_base64":null,"content_base64sha256":"OfHyKvF71RwJkAe9nussxftTskGpW54A3Q8wGTahpjA=","content_base64sha512":"ukzj1ysyj/exHjZrSmKqfTIyB0Ya/fAvt5x345mcGdZvDoU3dNv7sxNd/UjFaCEJQQnUz5sPyDe4eoomBj6hZQ==","content_md5":"722b205736af585ecbe112cdeb466487","content_sha1":"c98c0967d6e8f4ab7812237ecc76039cef173983","content_sha256":"39f1f22af17bd51c099007bd9eeb2cc5fb53b241a95b9e00dd0f301936a1a630","content_sha512":"ba4ce3d72b328ff7b11e366b4a62aa7d323207461afdf02fb79c77e3999c19d66f0e853774dbfbb3135dfd48c56821094109d4cf9b0fc837b87a8a26063ea165","directory_permission":"0777","file_permission":"0777","filename":"./ssh_config","id":"c98c0967d6e8f4ab7812237ecc76039cef173983","sensitive_content":null,"source":null},"sensitive_attributes":[[{"type":"get_attr","value":"sensitive_content"}]]}]},{"mode":"managed","type":"null_resource","name":"ssh_keys","provider":"provider[\"registry.opentofu.org/hashicorp/null\"]","instances":[{"schema_version":0,"attributes":{"id":"4921393351315499508","triggers":null},"sensitive_attributes":[]}]}],"check_results":null}
